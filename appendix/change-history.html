<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Change History :: Spring Kafka</title>
    <link rel="prev" href="native-images.html">
    <meta name="generator" content="Antora 3.2.0-alpha.2">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/css/vendor/search.css">
    <link rel="stylesheet" href="../_/css/vendor/asciidoctor-tabs.css">

    <meta name="version" content="3.1.0">
    <meta name="component" content="kafka">
    <link rel="icon" href="../_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://spring.io">
        <img
          id="springlogo"
          class="block"
          src="../_/img/spring-logo.svg"
          alt="Spring"
        />
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Why Spring</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/why-spring"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/microservices"
            >Microservices</a>
            <a
              class="navbar-item"
              href="https://spring.io/reactive"
            >Reactive</a>
            <a class="navbar-item" href="https://spring.io/event-driven">Event
              Driven</a>
            <a class="navbar-item" href="https://spring.io/cloud">Cloud</a>
            <a class="navbar-item" href="https://spring.io/web-applications">Web
              Applications</a>
            <a
              class="navbar-item"
              href="https://spring.io/serverless"
            >Serverless</a>
            <a class="navbar-item" href="https://spring.io/batch">Batch</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Learn</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spring.io/learn">Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/quickstart"
            >Quickstart</a>
            <a class="navbar-item" href="https://spring.io/guides">Guides</a>
            <a class="navbar-item" href="https://spring.io/blog">Blog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown" style="min-width: 280px">
            <a
              class="navbar-item"
              href="https://spring.io/projects"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-boot"
            >Spring Boot</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-framework"
            >Spring Framework</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud"
            >Spring Cloud</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud-dataflow"
            >Spring Cloud Data Flow</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-data"
            >Spring Data</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-integration"
            >Spring Integration</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-batch"
            >Spring Batch</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-security"
            >Spring Security</a>
            <a
              class="navbar-item navbar-item-special"
              href="https://spring.io/projects"
            >View all projects</a>
            <a class="navbar-item" href="https://spring.io/tools">Spring Tools 4</a>
            <a
              class="navbar-item navbar-item-special-2"
              href="https://start.spring.io"
            >Spring Initializr
              <svg
                class="external-link-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
              ><polyline
                  points="15 10.94 15 15 1 15 1 1 5.06 1"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><polyline
                  points="8.93 1 15 1 15 7.07"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><line
                  x1="15"
                  y1="1"
                  x2="8"
                  y2="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></line></svg></a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Academy</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.academy/courses"
            >Courses</a>
            <a
              class="navbar-item"
              href="https://spring.academy/learning-path"
            >Get Certified</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Solutions</a>
          <div class="navbar-dropdown lg">
            <a class="navbar-item" href="https://spring.io/solutions">Overview</a>
            <a class="navbar-item" href="https://spring.io/runtime">Spring Runtime</a>
            <a class="navbar-item" href="https://spring.io/consulting">Spring Consulting</a>
            <a class="navbar-item" href="https://spring.academy/teams">Spring Academy For Teams</a>
            <a class="navbar-item" href="https://spring.io/security">Security Advisories</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable is-community">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/community"
            >Overview</a>
            <a class="navbar-item" href="https://spring.io/events">Events</a>
            <a class="navbar-item" href="https://spring.io/team">Team</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input
        type="checkbox"
        type="checkbox"
        id="switch-theme-checkbox"
        name="switch-theme-checkbox"
      />
      <span class="icon"><svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="moon"
          class="svg-inline--fa fa-moon moon"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
        ><path
            fill="currentColor"
            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
          ></path>
        </svg>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="sun"
          class="svg-inline--fa fa-sun sun"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        ><path
            fill="currentColor"
            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"
          ></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
</script><div class="body">
<div class="nav-container" data-component="kafka" data-version="3.1.0">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">Spring Kafka</span>
  <span class="version">3.1.0-SNAPSHOT</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
</div><div class="search">
  <button class="DocSearch-Button search-button">
    <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/>
    </svg>
    <span>Search</span>
    <span class="search-key"></span>
  </button>
</div>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../whats-new.html">What&#8217;s new?</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quick-tour.html">Quick Tour</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../reference.html">Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kafka.html">Using Spring for Apache Kafka</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/connecting.html">Connecting to Kafka</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/configuring-topics.html">Configuring Topics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/sending-messages.html">Sending Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../kafka/receiving-messages.html">Receiving Messages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/message-listeners.html">Message Listeners</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/message-listener-container.html">Message Listener Containers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/ooo-commits.html">Manually Committing Offsets</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/listener-annotation.html"><code>@KafkaListener</code> Annotation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/listener-group-id.html">Obtaining the Consumer <code>group.id</code></a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/container-thread-naming.html">Container Thread Naming</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/listener-meta.html"><code>@KafkaListener</code> as a Meta Annotation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/class-level-kafkalistener.html"><code>@KafkaListener</code> on a Class</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/kafkalistener-attrs.html"><code>@KafkaListener</code> Attribute Modification</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/kafkalistener-lifecycle.html"><code>@KafkaListener</code> Lifecycle Management</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/validation.html"><code>@KafkaListener</code> <code>@Payload</code> Validation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/rebalance-listeners.html">Rebalancing Listeners</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/annotation-send-to.html">Forwarding Listener Results using <code>@SendTo</code></a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/filtering.html">Filtering Messages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/retrying-deliveries.html">Retrying Deliveries</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/sequencing.html">Starting <code>@KafkaListener</code> s in Sequence</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../kafka/receiving-messages/template-receive.html">Using <code>KafkaTemplate</code> to Receive</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/container-props.html">Listener Container Properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/dynamic-containers.html">Dynamically Creating Containers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/events.html">Application Events</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/topic/partition-initial-offset.html">Topic/Partition Initial Offset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/seek.html">Seeking to a Specific Offset</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/container-factory.html">Container factory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/thread-safety.html">Thread Safety</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/micrometer.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/transactions.html">Transactions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/exactly-once.html">Exactly Once Semantics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/interceptors.html">Wiring Spring Beans into Producer/Consumer Interceptors</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/producer-interceptor-managed-in-spring.html">Producer Interceptor Managed in Spring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/pause-resume.html">Pausing and Resuming Listener Containers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/pause-resume-partitions.html">Pausing and Resuming Partitions on Listener Containers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/serdes.html">Serialization, Deserialization, and Message Conversion</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/headers.html">Message Headers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/tombstones.html">Null Payloads and Log Compaction of 'Tombstone' Records</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/annotation-error-handling.html">Handling Exceptions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../kafka/kerberos.html">JAAS and Kerberos</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../retrytopic.html">Non-Blocking Retries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/how-the-pattern-works.html">How The Pattern Works</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/back-off-delay-precision.html">Back Off Delay Precision</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/retry-config.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/programmatic-construction.html">Programmatic Construction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/features.html">Features</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/retry-topic-combine-blocking.html">Combining Blocking and Non-Blocking Retries</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/accessing-delivery-attempts.html">Accessing Delivery Attempts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/topic-naming.html">Topic Naming</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/multi-retry.html">Multiple Listeners, Same Topic(s)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/dlt-strategies.html">Dlt Strategies</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/retry-topic-lcf.html">Specifying a ListenerContainerFactory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/access-topic-info-runtime.html">Accessing Topics' Information at Runtime</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../retrytopic/change-kboe-logging-level.html">Changing KafkaBackOffException Logging Level</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../streams.html">Apache Kafka Streams Support</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testing.html">Testing Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../tips.html">Tips, Tricks and Examples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../other-resources.html">Other Resources</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="override-boot-dependencies.html">Override Spring Boot Dependencies</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="micrometer.html">Micrometer Observation Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="native-images.html">Native Images</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="change-history.html">Change History</a>
  </li>
</ul>
  </li>
</ul>
          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
<div class="search">
  <button class="DocSearch-Button search-button">
    <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_"/>
    </svg>
    <span>Search</span>
    <span class="search-key"></span>
  </button>
</div>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="Change History"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
        <a href="https://github.com/rwinch/spring-kafka/edit/main/spring-kafka-docs/src/main/antora/modules/ROOT/pages/appendix/change-history.adoc">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          ><path
              d="m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z"
            ></path></svg>
          Edit this Page
        </a>
              <a href="https://github.com/rwinch/spring-kafka" title="Github">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="512px"
            id="Layer_1"
            version="1.1"
            viewBox="0 0 512 512"
            width="512px"
          ><style type="text/css"><![CDATA[
              .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]></style><g><path
                class="st0"
                d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"
              ></path></g></svg>
          Github Project
        </a>
        <a href="https://stackoverflow.com/tags/spring-kafka">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path
              d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z"
            ></path></svg>
          Stack Overflow
        </a>
    </div>
  </div>
</aside><div class="doc">
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Spring Kafka</a></li>
    <li><a href="change-history.html">Change History</a></li>
  </ul>
</nav>
<article>
<h1 id="page-title" class="page">Change History</h1>
<div class="sect1">
<h2 id="migration"><a class="anchor" href="#migration"></a>What&#8217;s New in 3.0 Since 2.9</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x30-kafka-client"><a class="anchor" href="#x30-kafka-client"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 3.3.1 <code>kafka-clients</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-eos"><a class="anchor" href="#x30-eos"></a>Exactly Once Semantics</h3>
<div class="paragraph">
<p><code>EOSMode.V1</code> (aka <code>ALPHA</code>) is no longer supported.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When using transactions, the minimum broker version is 2.5.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="../kafka/exactly-once.html" class="xref page">Exactly Once Semantics</a> and <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-447%3A+Producer+scalability+for+exactly+once+semantics">KIP-447</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-obs"><a class="anchor" href="#x30-obs"></a>Observation</h3>
<div class="paragraph">
<p>Enabling observation for timers and tracing using Micrometer is now supported.
See <a href="#x30-obs">Observation</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-Native"><a class="anchor" href="#x30-Native"></a>Native Images</h3>
<div class="paragraph">
<p>Support for creating native images is provided.
See <a href="#x30-Native">Native Images</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-global-embedded-kafka"><a class="anchor" href="#x30-global-embedded-kafka"></a>Global Single Embedded Kafka</h3>
<div class="paragraph">
<p>The embedded Kafka (<code>EmbeddedKafkaBroker</code>) can now be start as a single global instance for the whole test plan.
See <a href="../testing.html#same-broker-multiple-tests" class="xref page">Using the Same Broker(s) for Multiple Test Classes</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-retryable"><a class="anchor" href="#x30-retryable"></a>Retryable Topics Changes</h3>
<div class="paragraph">
<p>This feature is no longer considered experimental (as far as its API is concerned), the feature itself has been supported since 2.7, but with a greater than normal possibility of breaking API changes.</p>
</div>
<div class="paragraph">
<p>The bootstrapping of <a href="../retrytopic.html" class="xref page">Non-Blocking Retries</a> infrastructure beans has changed in this release to avoid some timing problems that occurred in some application regarding application initialization.</p>
</div>
<div class="paragraph">
<p>You can now set a different <code>concurrency</code> for the retry containers; by default, the concurrency is the same as the main container.</p>
</div>
<div class="paragraph">
<p><code>@RetryableTopic</code> can now be used as a meta-annotation on custom annotations, including support for <code>@AliasFor</code> properties.</p>
</div>
<div class="paragraph">
<p>See <a href="../retrytopic/retry-config.html" class="xref page">Configuration</a> for more information.</p>
</div>
<div class="paragraph">
<p>The default replication factor for the retry topics is now <code>-1</code> (use broker default).
If your broker is earlier that version 2.4, you will now need to explicitly set the property.</p>
</div>
<div class="paragraph">
<p>You can now configure multiple <code>@RetryableTopic</code> listeners on the same topic in the same application context.
Previously, this was not possible.
See <a href="../retrytopic/multi-retry.html" class="xref page">Multiple Listeners, Same Topic(s)</a> for more information.</p>
</div>
<div class="paragraph">
<p>There are breaking API changes in <code>RetryTopicConfigurationSupport</code>; specifically, if you override the bean definition methods for <code>destinationTopicResolver</code>, <code>kafkaConsumerBackoffManager</code> and/or <code>retryTopicConfigurer</code>;
these methods now require an <code>ObjectProvider&lt;RetryTopicComponentFactory&gt;</code> parameter.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-lc-changes"><a class="anchor" href="#x30-lc-changes"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>Events related to consumer authentication and authorization failures are now published by the container.
See <a href="../kafka/events.html" class="xref page">Application Events</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now customize the thread names used by consumer threads.
See <a href="../kafka/receiving-messages/container-thread-naming.html" class="xref page">Container Thread Naming</a> for more information.</p>
</div>
<div class="paragraph">
<p>The container property <code>restartAfterAuthException</code> has been added.
See <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-template-changes"><a class="anchor" href="#x30-template-changes"></a><code>KafkaTemplate</code> Changes</h3>
<div class="paragraph">
<p>The futures returned by this class are now <code>CompletableFuture</code> s instead of <code>ListenableFuture</code> s.
See <a href="../kafka/sending-messages.html#kafka-template" class="xref page">Using <code>KafkaTemplate</code></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-rkt-changes"><a class="anchor" href="#x30-rkt-changes"></a><code>ReplyingKafkaTemplate</code> Changes</h3>
<div class="paragraph">
<p>The futures returned by this class are now <code>CompletableFuture</code> s instead of <code>ListenableFuture</code> s.
See <a href="../kafka/sending-messages.html#replying-template" class="xref page">Using <code>ReplyingKafkaTemplate</code></a> and <a href="../kafka/sending-messages.html#exchanging-messages" class="xref page">Request/Reply with <code>Message&lt;?&gt;</code> s</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-listener"><a class="anchor" href="#x30-listener"></a><code>@KafkaListener</code> Changes</h3>
<div class="paragraph">
<p>You can now use a custom correlation header which will be echoed in any reply message.
See the note at the end of <a href="../kafka/sending-messages.html#replying-template" class="xref page">Using <code>ReplyingKafkaTemplate</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now manually commit parts of a batch before the entire batch is processed.
See <a href="../kafka/receiving-messages/message-listener-container.html#committing-offsets" class="xref page">Committing Offsets</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-headers"><a class="anchor" href="#x30-headers"></a><code>KafkaHeaders</code> Changes</h3>
<div class="paragraph">
<p>Four constants in <code>KafkaHeaders</code> that were deprecated in 2.9.x have now been removed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Instead of <code>MESSAGE_KEY</code>, use <code>KEY</code>.</p>
</li>
<li>
<p>Instead of <code>PARTITION_ID</code>, use <code>PARTITION</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similarly, <code>RECEIVED_MESSAGE_KEY</code> is replaced by <code>RECEIVED_KEY</code> and <code>RECEIVED_PARTITION_ID</code> is replaced by <code>RECEIVED_PARTITION</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x30-testing"><a class="anchor" href="#x30-testing"></a>Testing Changes</h3>
<div class="paragraph">
<p>Version 3.0.7 introduced a <code>MockConsumerFactory</code> and <code>MockProducerFactory</code>.
See <a href="../testing.html#mock-cons-prod" class="xref page">Mock Consumer and Producer</a> for more information.</p>
</div>
<div class="paragraph">
<p>Starting with version 3.0.10, the embedded Kafka broker, by default, sets the Spring Boot property <code>spring.kafka.bootstrap-servers</code> to the address(es) of the embedded broker(s).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-s-new-in-2-9-since-2-8"><a class="anchor" href="#what-s-new-in-2-9-since-2-8"></a>What&#8217;s New in 2.9 since 2.8</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x29-kafka-client"><a class="anchor" href="#x29-kafka-client"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 3.2.0 <code>kafka-clients</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x29-eh-changes"><a class="anchor" href="#x29-eh-changes"></a>Error Handler Changes</h3>
<div class="paragraph">
<p>The <code>DefaultErrorHandler</code> can now be configured to pause the container for one poll and use the remaining results from the previous poll, instead of seeking to the offsets of the remaining records.
See <a href="../kafka/annotation-error-handling.html#default-eh" class="xref page">DefaultErrorHandler</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>DefaultErrorHandler</code> now has a <code>BackOffHandler</code> property.
See <a href="../kafka/annotation-error-handling.html#backoff-handlers" class="xref page">Back Off Handlers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x29-lc-changes"><a class="anchor" href="#x29-lc-changes"></a>Listener Container Changes</h3>
<div class="paragraph">
<p><code>interceptBeforeTx</code> now works with all transaction managers (previously it was only applied when a <code>KafkaAwareTransactionManager</code> was used).
See <a href="#interceptBeforeTx">[interceptBeforeTx]</a>.</p>
</div>
<div class="paragraph">
<p>A new container property <code>pauseImmediate</code> is provided which allows the container to pause the consumer after the current record is processed, instead of after all the records from the previous poll have been processed.
See <a href="#pauseImmediate">[pauseImmediate]</a>.</p>
</div>
<div class="paragraph">
<p>Events related to consumer authentication and authorization</p>
</div>
</div>
<div class="sect2">
<h3 id="x29-hm-changes"><a class="anchor" href="#x29-hm-changes"></a>Header Mapper Changes</h3>
<div class="paragraph">
<p>You can now configure which inbound headers should be mapped.
Also available in version 2.8.8 or later.
See <a href="../kafka/headers.html" class="xref page">Message Headers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x29-template-changes"><a class="anchor" href="#x29-template-changes"></a><code>KafkaTemplate</code> Changes</h3>
<div class="paragraph">
<p>In 3.0, the futures returned by this class will be <code>CompletableFuture</code> s instead of <code>ListenableFuture</code> s.
See <a href="../kafka/sending-messages.html#kafka-template" class="xref page">Using <code>KafkaTemplate</code></a> for assistance in transitioning when using this release.</p>
</div>
</div>
<div class="sect2">
<h3 id="x29-rkt-changes"><a class="anchor" href="#x29-rkt-changes"></a><code>ReplyingKafkaTemplate</code> Changes</h3>
<div class="paragraph">
<p>The template now provides a method to wait for assignment on the reply container, to avoid a race when sending a request before the reply container is initialized.
Also available in version 2.8.8 or later.
See <a href="../kafka/sending-messages.html#replying-template" class="xref page">Using <code>ReplyingKafkaTemplate</code></a>.</p>
</div>
<div class="paragraph">
<p>In 3.0, the futures returned by this class will be <code>CompletableFuture</code> s instead of <code>ListenableFuture</code> s.
See <a href="../kafka/sending-messages.html#replying-template" class="xref page">Using <code>ReplyingKafkaTemplate</code></a> and <a href="../kafka/sending-messages.html#exchanging-messages" class="xref page">Request/Reply with <code>Message&lt;?&gt;</code> s</a> for assistance in transitioning when using this release.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-s-new-in-2-8-since-2-7"><a class="anchor" href="#what-s-new-in-2-8-since-2-7"></a>What&#8217;s New in 2.8 Since 2.7</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the changes made from version 2.7 to version 2.8.
For changes in earlier version, see <a href="../appendix.html#history" class="xref page">Change History</a>.</p>
</div>
<div class="sect2">
<h3 id="x28-kafka-client"><a class="anchor" href="#x28-kafka-client"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 3.0.0 <code>kafka-clients</code></p>
</div>
</div>
<div class="sect2">
<h3 id="x28-packages"><a class="anchor" href="#x28-packages"></a>Package Changes</h3>
<div class="paragraph">
<p>Classes and interfaces related to type mapping have been moved from <code>&#8230;&#8203;support.converter</code> to <code>&#8230;&#8203;support.mapping</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AbstractJavaTypeMapper</code></p>
</li>
<li>
<p><code>ClassMapper</code></p>
</li>
<li>
<p><code>DefaultJackson2JavaTypeMapper</code></p>
</li>
<li>
<p><code>Jackson2JavaTypeMapper</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="x28-ooo-commits"><a class="anchor" href="#x28-ooo-commits"></a>Out of Order Manual Commits</h3>
<div class="paragraph">
<p>The listener container can now be configured to accept manual offset commits out of order (usually asynchronously).
The container will defer the commit until the missing offset is acknowledged.
See <a href="../kafka/receiving-messages/ooo-commits.html" class="xref page">Manually Committing Offsets</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-batch-overrude"><a class="anchor" href="#x28-batch-overrude"></a><code>@KafkaListener</code> Changes</h3>
<div class="paragraph">
<p>It is now possible to specify whether the listener method is a batch listener on the method itself.
This allows the same container factory to be used for both record and batch listeners.</p>
</div>
<div class="paragraph">
<p>See <a href="#batch-listeners">[batch-listeners]</a> for more information.</p>
</div>
<div class="paragraph">
<p>Batch listeners can now handle conversion exceptions.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/annotation-error-handling.html#batch-listener-conv-errors" class="xref page">Conversion Errors with Batch Error Handlers</a> for more information.</p>
</div>
<div class="paragraph">
<p><code>RecordFilterStrategy</code>, when used with batch listeners, can now filter the entire batch in one call.
See the note at the end of <a href="#batch-listeners">[batch-listeners]</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>@KafkaListener</code> annotation now has the <code>filter</code> attribute, to override the container factory&#8217;s <code>RecordFilterStrategy</code> for just this listener.</p>
</div>
<div class="paragraph">
<p>The <code>@KafkaListener</code> annotation now has the <code>info</code> attribute; this is used to populate the new listener container property <code>listenerInfo</code>.
This is then used to populate a <code>KafkaHeaders.LISTENER_INFO</code> header in each record which can be used in <code>RecordInterceptor</code>, <code>RecordFilterStrategy</code>, or the listener itself.
See <a href="../kafka/annotation-error-handling.html#li-header" class="xref page">Listener Info Header</a> and <a href="../kafka/container-props.html#alc-props" class="xref page">Abstract Listener Container Properties</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-template"><a class="anchor" href="#x28-template"></a><code>KafkaTemplate</code> Changes</h3>
<div class="paragraph">
<p>You can now receive a single record, given the topic, partition and offset.
See <a href="../kafka/receiving-messages/template-receive.html" class="xref page">Using <code>KafkaTemplate</code> to Receive</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-eh"><a class="anchor" href="#x28-eh"></a><code>CommonErrorHandler</code> Added</h3>
<div class="paragraph">
<p>The legacy <code>GenericErrorHandler</code> and its sub-interface hierarchies for record an batch listeners have been replaced by a new single interface <code>CommonErrorHandler</code> with implementations corresponding to most legacy implementations of <code>GenericErrorHandler</code>.
See <a href="../kafka/annotation-error-handling.html#error-handlers" class="xref page">Container Error Handlers</a> and <a href="../kafka/annotation-error-handling.html#migrating-legacy-eh" class="xref page">Migrating Custom Legacy Error Handler Implementations to <code>CommonErrorHandler</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-lcc"><a class="anchor" href="#x28-lcc"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>The <code>interceptBeforeTx</code> container property is now <code>true</code> by default.</p>
</div>
<div class="paragraph">
<p>The <code>authorizationExceptionRetryInterval</code> property has been renamed to <code>authExceptionRetryInterval</code> and now applies to <code>AuthenticationException</code> s in addition to <code>AuthorizationException</code> s previously.
Both exceptions are considered fatal and the container will stop by default, unless this property is set.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/receiving-messages/message-listener-container.html#kafka-container" class="xref page">Using <code>KafkaMessageListenerContainer</code></a> and <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-serializers"><a class="anchor" href="#x28-serializers"></a>Serializer/Deserializer Changes</h3>
<div class="paragraph">
<p>The <code>DelegatingByTopicSerializer</code> and <code>DelegatingByTopicDeserializer</code> are now provided.
See <a href="../kafka/serdes.html#delegating-serialization" class="xref page">Delegating Serializer and Deserializer</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-dlpr"><a class="anchor" href="#x28-dlpr"></a><code>DeadLetterPublishingRecover</code> Changes</h3>
<div class="paragraph">
<p>The property <code>stripPreviousExceptionHeaders</code> is now <code>true</code> by default.</p>
</div>
<div class="paragraph">
<p>There are now several techniques to customize which headers are added to the output record.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/annotation-error-handling.html#dlpr-headers" class="xref page">Managing Dead Letter Record Headers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x28-retryable-topics-changes"><a class="anchor" href="#x28-retryable-topics-changes"></a>Retryable Topics Changes</h3>
<div class="paragraph">
<p>Now you can use the same factory for retryable and non-retryable topics.
See <a href="../retrytopic/retry-topic-lcf.html" class="xref page">Specifying a ListenerContainerFactory</a> for more information.</p>
</div>
<div class="paragraph">
<p>There&#8217;s now a manageable global list of fatal exceptions that will make the failed record go straight to the DLT.
Refer to <a href="../retrytopic/features.html#retry-topic-ex-classifier" class="xref page">Exception Classifier</a> to see how to manage it.</p>
</div>
<div class="paragraph">
<p>You can now use blocking and non-blocking retries in conjunction.
See <a href="../retrytopic/retry-topic-combine-blocking.html" class="xref page">Combining Blocking and Non-Blocking Retries</a> for more information.</p>
</div>
<div class="paragraph">
<p>The KafkaBackOffException thrown when using the retryable topics feature is now logged at DEBUG level.
See <a href="../retrytopic/change-kboe-logging-level.html" class="xref page">Changing KafkaBackOffException Logging Level</a> if you need to change the logging level back to WARN or set it to any other level.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-6-and-2-7"><a class="anchor" href="#changes-between-2-6-and-2-7"></a>Changes between 2.6 and 2.7</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x27-kafka-client"><a class="anchor" href="#x27-kafka-client"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 2.7.0 <code>kafka-clients</code>.
It is also compatible with the 2.8.0 clients, since version 2.7.1; see <a href="../appendix.html" class="xref page">Override Spring Boot Dependencies</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-27-nonblock-retry"><a class="anchor" href="#x-27-nonblock-retry"></a>Non-Blocking Delayed Retries Using Topics</h3>
<div class="paragraph">
<p>This significant new feature is added in this release.
When strict ordering is not important, failed deliveries can be sent to another topic to be consumed later.
A series of such retry topics can be configured, with increasing delays.
See <a href="../retrytopic.html" class="xref page">Non-Blocking Retries</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-container"><a class="anchor" href="#x27-container"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>The <code>onlyLogRecordMetadata</code> container property is now <code>true</code> by default.</p>
</div>
<div class="paragraph">
<p>A new container property <code>stopImmediate</code> is now available.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a> for more information.</p>
</div>
<div class="paragraph">
<p>Error handlers that use a <code>BackOff</code> between delivery attempts (e.g. <code>SeekToCurrentErrorHandler</code> and <code>DefaultAfterRollbackProcessor</code>) will now exit the back off interval soon after the container is stopped, rather than delaying the stop.</p>
</div>
<div class="paragraph">
<p>Error handlers and after rollback processors that extend <code>FailedRecordProcessor</code> can now be configured with one or more <code>RetryListener</code> s to receive information about retry and recovery progress.</p>
</div>
<div class="paragraph">
<p>The <code>RecordInterceptor</code> now has additional methods called after the listener returns (normally, or by throwing an exception).
It also has a sub-interface <code>ConsumerAwareRecordInterceptor</code>.
In addition, there is now a <code>BatchInterceptor</code> for batch listeners.
See <a href="../kafka/receiving-messages/message-listener-container.html" class="xref page">Message Listener Containers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-listener"><a class="anchor" href="#x27-listener"></a><code>@KafkaListener</code> Changes</h3>
<div class="paragraph">
<p>You can now validate the payload parameter of <code>@KafkaHandler</code> methods (class-level listeners).
See <a href="../kafka/receiving-messages/validation.html" class="xref page"><code>@KafkaListener</code> <code>@Payload</code> Validation</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now set the <code>rawRecordHeader</code> property on the <code>MessagingMessageConverter</code> and <code>BatchMessagingMessageConverter</code> which causes the raw <code>ConsumerRecord</code> to be added to the converted <code>Message&lt;?&gt;</code>.
This is useful, for example, if you wish to use a <code>DeadLetterPublishingRecoverer</code> in a listener error handler.
See <a href="../kafka/annotation-error-handling.html#listener-error-handlers" class="xref page">Listener Error Handlers</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now modify <code>@KafkaListener</code> annotations during application initialization.
See <a href="../kafka/receiving-messages/kafkalistener-attrs.html" class="xref page"><code>@KafkaListener</code> Attribute Modification</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-dlt"><a class="anchor" href="#x27-dlt"></a><code>DeadLetterPublishingRecover</code> Changes</h3>
<div class="paragraph">
<p>Now, if both the key and value fail deserialization, the original values are published to the DLT.
Previously, the value was populated but the key <code>DeserializationException</code> remained in the headers.
There is a breaking API change, if you subclassed the recoverer and overrode the <code>createProducerRecord</code> method.</p>
</div>
<div class="paragraph">
<p>In addition, the recoverer verifies that the partition selected by the destination resolver actually exists before publishing to it.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/annotation-error-handling.html#dead-letters" class="xref page">Publishing Dead-letter Records</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-CKTM"><a class="anchor" href="#x27-CKTM"></a><code>ChainedKafkaTransactionManager</code> is Deprecated</h3>
<div class="paragraph">
<p>See <a href="../kafka/transactions.html" class="xref page">Transactions</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-RKT"><a class="anchor" href="#x27-RKT"></a><code>ReplyingKafkaTemplate</code> Changes</h3>
<div class="paragraph">
<p>There is now a mechanism to examine a reply and fail the future exceptionally if some condition exists.</p>
</div>
<div class="paragraph">
<p>Support for sending and receiving <code>spring-messaging</code> <code>Message&lt;?&gt;</code> s has been added.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/sending-messages.html#replying-template" class="xref page">Using <code>ReplyingKafkaTemplate</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-streams"><a class="anchor" href="#x27-streams"></a>Kafka Streams Changes</h3>
<div class="paragraph">
<p>By default, the <code>StreamsBuilderFactoryBean</code> is now configured to not clean up local state.
See <a href="../streams.html#streams-config" class="xref page">Configuration</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-admin"><a class="anchor" href="#x27-admin"></a><code>KafkaAdmin</code> Changes</h3>
<div class="paragraph">
<p>New methods <code>createOrModifyTopics</code> and <code>describeTopics</code> have been added.
<code>KafkaAdmin.NewTopics</code> has been added to facilitate configuring multiple topics in a single bean.
See <a href="#configuring-topics">[configuring-topics]</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-conv"><a class="anchor" href="#x27-conv"></a><code>MessageConverter</code> Changes</h3>
<div class="paragraph">
<p>It is now possible to add a <code>spring-messaging</code> <code>SmartMessageConverter</code> to the <code>MessagingMessageConverter</code>, allowing content negotiation based on the <code>contentType</code> header.
See <a href="../kafka/serdes.html#messaging-message-conversion" class="xref page">Spring Messaging Message Conversion</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-sequencing"><a class="anchor" href="#x27-sequencing"></a>Sequencing <code>@KafkaListener</code> s</h3>
<div class="paragraph">
<p>See <a href="../kafka/receiving-messages/sequencing.html" class="xref page">Starting <code>@KafkaListener</code> s in Sequence</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-exp-backoff"><a class="anchor" href="#x27-exp-backoff"></a><code>ExponentialBackOffWithMaxRetries</code></h3>
<div class="paragraph">
<p>A new <code>BackOff</code> implementation is provided, making it more convenient to configure the max retries.
See <a href="../kafka/annotation-error-handling.html#exp-backoff" class="xref page"><code>ExponentialBackOffWithMaxRetries</code> Implementation</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x27-delegating-eh"><a class="anchor" href="#x27-delegating-eh"></a>Conditional Delegating Error Handlers</h3>
<div class="paragraph">
<p>These new error handlers can be configured to delegate to different error handlers, depending on the exception type.
See <a href="../kafka/annotation-error-handling.html#cond-eh" class="xref page">Delegating Error Handler</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-5-and-2-6"><a class="anchor" href="#changes-between-2-5-and-2-6"></a>Changes between 2.5 and 2.6</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="x26-kafka-client"><a class="anchor" href="#x26-kafka-client"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 2.6.0 <code>kafka-clients</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="listener-container-changes"><a class="anchor" href="#listener-container-changes"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>The default <code>EOSMode</code> is now <code>BETA</code>.
See <a href="../kafka/exactly-once.html" class="xref page">Exactly Once Semantics</a> for more information.</p>
</div>
<div class="paragraph">
<p>Various error handlers (that extend <code>FailedRecordProcessor</code>) and the <code>DefaultAfterRollbackProcessor</code> now reset the <code>BackOff</code> if recovery fails.
In addition, you can now select the <code>BackOff</code> to use based on the failed record and/or exception.</p>
</div>
<div class="paragraph">
<p>You can now configure an <code>adviceChain</code> in the container properties.
See <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a> for more information.</p>
</div>
<div class="paragraph">
<p>When the container is configured to publish <code>ListenerContainerIdleEvent</code> s, it now publishes a <code>ListenerContainerNoLongerIdleEvent</code> when a record is received after publishing an idle event.
See <a href="../kafka/events.html" class="xref page">Application Events</a> and <a href="../kafka/events.html#idle-containers" class="xref page">Detecting Idle and Non-Responsive Consumers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="kafkalistener-changes"><a class="anchor" href="#kafkalistener-changes"></a>@KafkaListener Changes</h3>
<div class="paragraph">
<p>When using manual partition assignment, you can now specify a wildcard for determining which partitions should be reset to the initial offset.
In addition, if the listener implements <code>ConsumerSeekAware</code>, <code>onPartitionsAssigned()</code> is called after the manual assignment.
(Also added in version 2.5.5).
See <a href="../kafka/receiving-messages/listener-annotation.html#manual-assignment" class="xref page">Explicit Partition Assignment</a> for more information.</p>
</div>
<div class="paragraph">
<p>Convenience methods have been added to <code>AbstractConsumerSeekAware</code> to make seeking easier.
See <a href="#seek">[seek]</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="errorhandler-changes"><a class="anchor" href="#errorhandler-changes"></a>ErrorHandler Changes</h3>
<div class="paragraph">
<p>Subclasses of <code>FailedRecordProcessor</code> (e.g. <code>SeekToCurrentErrorHandler</code>, <code>DefaultAfterRollbackProcessor</code>, <code>RecoveringBatchErrorHandler</code>) can now be configured to reset the retry state if the exception is a different type to that which occurred previously with this record.</p>
</div>
</div>
<div class="sect2">
<h3 id="producer-factory-changes"><a class="anchor" href="#producer-factory-changes"></a>Producer Factory Changes</h3>
<div class="paragraph">
<p>You can now set a maximum age for producers after which they will be closed and recreated.
See <a href="../kafka/transactions.html" class="xref page">Transactions</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now update the configuration map after the <code>DefaultKafkaProducerFactory</code> has been created.
This might be useful, for example, if you have to update SSL key/trust store locations after a credentials change.
See <a href="../kafka/sending-messages.html#producer-factory" class="xref page">Using <code>DefaultKafkaProducerFactory</code></a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-4-and-2-5"><a class="anchor" href="#changes-between-2-4-and-2-5"></a>Changes between 2.4 and 2.5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the changes made from version 2.4 to version 2.5.
For changes in earlier version, see <a href="../appendix.html#history" class="xref page">Change History</a>.</p>
</div>
<div class="sect2">
<h3 id="x25-factory-listeners"><a class="anchor" href="#x25-factory-listeners"></a>Consumer/Producer Factory Changes</h3>
<div class="paragraph">
<p>The default consumer and producer factories can now invoke a callback whenever a consumer or producer is created or closed.
Implementations for native Micrometer metrics are provided.
See <a href="../kafka/connecting.html#factory-listeners" class="xref page">Factory Listeners</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now change bootstrap server properties at runtime, enabling failover to another Kafka cluster.
See <a href="../kafka/connecting.html" class="xref page">Connecting to Kafka</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-streams-listeners"><a class="anchor" href="#x25-streams-listeners"></a><code>StreamsBuilderFactoryBean</code> Changes</h3>
<div class="paragraph">
<p>The factory bean can now invoke a callback whenever a <code>KafkaStreams</code> created or destroyed.
An Implementation for native Micrometer metrics is provided.
See <a href="../streams.html#streams-micrometer" class="xref page">KafkaStreams Micrometer Support</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-kafka-client"><a class="anchor" href="#x25-kafka-client"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 2.5.0 <code>kafka-clients</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="class-package-changes"><a class="anchor" href="#class-package-changes"></a>Class/Package Changes</h3>
<div class="paragraph">
<p><code>SeekUtils</code> has been moved from the <code>o.s.k.support</code> package to <code>o.s.k.listener</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-delivery"><a class="anchor" href="#x25-delivery"></a>Delivery Attempts Header</h3>
<div class="paragraph">
<p>There is now an option to to add a header which tracks delivery attempts when using certain error handlers and after rollback processors.
See <a href="../kafka/annotation-error-handling.html#delivery-header" class="xref page">Delivery Attempts Header</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-message-return"><a class="anchor" href="#x25-message-return"></a>@KafkaListener Changes</h3>
<div class="paragraph">
<p>Default reply headers will now be populated automatically if needed when a <code>@KafkaListener</code> return type is <code>Message&lt;?&gt;</code>.
See <a href="../kafka/sending-messages.html#reply-message" class="xref page">Reply Type Message&lt;?&gt;</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>KafkaHeaders.RECEIVED_MESSAGE_KEY</code> is no longer populated with a <code>null</code> value when the incoming record has a <code>null</code> key; the header is omitted altogether.</p>
</div>
<div class="paragraph">
<p><code>@KafkaListener</code> methods can now specify a <code>ConsumerRecordMetadata</code> parameter instead of using discrete headers for metadata such as topic, partition, etc.
See <a href="../kafka/receiving-messages/listener-annotation.html#consumer-record-metadata" class="xref page">Consumer Record Metadata</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-container"><a class="anchor" href="#x25-container"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>The <code>assignmentCommitOption</code> container property is now <code>LATEST_ONLY_NO_TX</code> by default.
See <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>subBatchPerPartition</code> container property is now <code>true</code> by default when using transactions.
See <a href="../kafka/transactions.html" class="xref page">Transactions</a> for more information.</p>
</div>
<div class="paragraph">
<p>A new <code>RecoveringBatchErrorHandler</code> is now provided.</p>
</div>
<div class="paragraph">
<p>Static group membership is now supported.
See <a href="../kafka/receiving-messages/message-listener-container.html" class="xref page">Message Listener Containers</a> for more information.</p>
</div>
<div class="paragraph">
<p>When incremental/cooperative rebalancing is configured, if offsets fail to commit with a non-fatal <code>RebalanceInProgressException</code>, the container will attempt to re-commit the offsets for the partitions that remain assigned to this instance after the rebalance is completed.</p>
</div>
<div class="paragraph">
<p>The default error handler is now the <code>SeekToCurrentErrorHandler</code> for record listeners and <code>RecoveringBatchErrorHandler</code> for batch listeners.
See <a href="../kafka/annotation-error-handling.html#error-handlers" class="xref page">Container Error Handlers</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now control the level at which exceptions intentionally thrown by standard error handlers are logged.
See <a href="../kafka/annotation-error-handling.html#error-handlers" class="xref page">Container Error Handlers</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>getAssignmentsByClientId()</code> method has been added, making it easier to determine which consumers in a concurrent container are assigned which partition(s).
See <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now suppress logging entire <code>ConsumerRecord</code> s in error, debug logs etc.
See <code>onlyLogRecordMetadata</code> in <a href="../kafka/container-props.html" class="xref page">Listener Container Properties</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-template"><a class="anchor" href="#x25-template"></a>KafkaTemplate Changes</h3>
<div class="paragraph">
<p>The <code>KafkaTemplate</code> can now maintain micrometer timers.
See <a href="../kafka/micrometer.html" class="xref page">Monitoring</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>KafkaTemplate</code> can now be configured with <code>ProducerConfig</code> properties to override those in the producer factory.
See <a href="../kafka/sending-messages.html#kafka-template" class="xref page">Using <code>KafkaTemplate</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>A <code>RoutingKafkaTemplate</code> has now been provided.
See <a href="../kafka/sending-messages.html#routing-template" class="xref page">Using <code>RoutingKafkaTemplate</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now use <code>KafkaSendCallback</code> instead of <code>ListenerFutureCallback</code> to get a narrower exception, making it easier to extract the failed <code>ProducerRecord</code>.
See <a href="../kafka/sending-messages.html#kafka-template" class="xref page">Using <code>KafkaTemplate</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-string-serializer"><a class="anchor" href="#x25-string-serializer"></a>Kafka String Serializer/Deserializer</h3>
<div class="paragraph">
<p>New <code>ToStringSerializer</code>/<code>StringDeserializer</code> s as well as an associated <code>SerDe</code> are now provided.
See <a href="../kafka/serdes.html#string-serde" class="xref page">String serialization</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-json-deser"><a class="anchor" href="#x25-json-deser"></a>JsonDeserializer</h3>
<div class="paragraph">
<p>The <code>JsonDeserializer</code> now has more flexibility to determine the deserialization type.
See <a href="../kafka/serdes.html#serdes-type-methods" class="xref page">Using Methods to Determine Types</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-delegate-serde"><a class="anchor" href="#x25-delegate-serde"></a>Delegating Serializer/Deserializer</h3>
<div class="paragraph">
<p>The <code>DelegatingSerializer</code> can now handle "standard" types, when the outbound record has no header.
See <a href="../kafka/serdes.html#delegating-serialization" class="xref page">Delegating Serializer and Deserializer</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x25-testing"><a class="anchor" href="#x25-testing"></a>Testing Changes</h3>
<div class="paragraph">
<p>The <code>KafkaTestUtils.consumerProps()</code> helper record now sets <code>ConsumerConfig.AUTO_OFFSET_RESET_CONFIG</code> to <code>earliest</code> by default.
See <a href="../testing.html#junit" class="xref page">JUnit</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-3-and-2-4"><a class="anchor" href="#changes-between-2-3-and-2-4"></a>Changes between 2.3 and 2.4</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="kafka-client-2.4"><a class="anchor" href="#kafka-client-2.4"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 2.4.0 <code>kafka-clients</code> or higher and supports the new incremental rebalancing feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="x24-carl"><a class="anchor" href="#x24-carl"></a>ConsumerAwareRebalanceListener</h3>
<div class="paragraph">
<p>Like <code>ConsumerRebalanceListener</code>, this interface now has an additional method <code>onPartitionsLost</code>.
Refer to the Apache Kafka documentation for more information.</p>
</div>
<div class="paragraph">
<p>Unlike the <code>ConsumerRebalanceListener</code>, The default implementation does <strong>not</strong> call <code>onPartitionsRevoked</code>.
Instead, the listener container will call that method after it has called <code>onPartitionsLost</code>; you should not, therefore, do the same when implementing <code>ConsumerAwareRebalanceListener</code>.</p>
</div>
<div class="paragraph">
<p>See the IMPORTANT note at the end of <a href="../kafka/receiving-messages/rebalance-listeners.html" class="xref page">Rebalancing Listeners</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x24-eh"><a class="anchor" href="#x24-eh"></a>GenericErrorHandler</h3>
<div class="paragraph">
<p>The <code>isAckAfterHandle()</code> default implementation now returns true by default.</p>
</div>
</div>
<div class="sect2">
<h3 id="x24-template"><a class="anchor" href="#x24-template"></a>KafkaTemplate</h3>
<div class="paragraph">
<p>The <code>KafkaTemplate</code> now supports non-transactional publishing alongside transactional.
See <a href="../kafka/transactions.html#tx-template-mixed" class="xref page"><code>KafkaTemplate</code> Transactional and non-Transactional Publishing</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="x24-agg"><a class="anchor" href="#x24-agg"></a>AggregatingReplyingKafkaTemplate</h3>
<div class="paragraph">
<p>The <code>releaseStrategy</code> is now a <code>BiConsumer</code>.
It is now called after a timeout (as well as when records arrive); the second parameter is <code>true</code> in the case of a call after a timeout.</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/sending-messages.html#aggregating-request-reply" class="xref page">Aggregating Multiple Replies</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="listener-container"><a class="anchor" href="#listener-container"></a>Listener Container</h3>
<div class="paragraph">
<p>The <code>ContainerProperties</code> provides an <code>authorizationExceptionRetryInterval</code> option to let the listener container to retry after any <code>AuthorizationException</code> is thrown by the <code>KafkaConsumer</code>.
See its JavaDocs and <a href="../kafka/receiving-messages/message-listener-container.html#kafka-container" class="xref page">Using <code>KafkaMessageListenerContainer</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="kafkalistener"><a class="anchor" href="#kafkalistener"></a>@KafkaListener</h3>
<div class="paragraph">
<p>The <code>@KafkaListener</code> annotation has a new property <code>splitIterables</code>; default true.
When a replying listener returns an <code>Iterable</code> this property controls whether the return result is sent as a single record or a record for each element is sent.
See <a href="../kafka/receiving-messages/annotation-send-to.html" class="xref page">Forwarding Listener Results using <code>@SendTo</code></a> for more information</p>
</div>
<div class="paragraph">
<p>Batch listeners can now be configured with a <code>BatchToRecordAdapter</code>; this allows, for example, the batch to be processed in a transaction while the listener gets one record at a time.
With the default implementation, a <code>ConsumerRecordRecoverer</code> can be used to handle errors within the batch, without stopping the processing of the entire batch - this might be useful when using transactions.
See <a href="../kafka/transactions.html#transactions-batch" class="xref page">Transactions with Batch Listeners</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="kafka-streams"><a class="anchor" href="#kafka-streams"></a>Kafka Streams</h3>
<div class="paragraph">
<p>The <code>StreamsBuilderFactoryBean</code> accepts a new property <code>KafkaStreamsInfrastructureCustomizer</code>.
This allows configuration of the builder and/or topology before the stream is created.
See <a href="../streams.html#streams-spring" class="xref page">Spring Management</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-2-and-2-3"><a class="anchor" href="#changes-between-2-2-and-2-3"></a>Changes Between 2.2 and 2.3</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the changes made from version 2.2 to version 2.3.</p>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-tips-tricks-and-examples"><a class="anchor" href="#cb-2-2-and-2-3-tips-tricks-and-examples"></a>Tips, Tricks and Examples</h3>
<div class="paragraph">
<p>A new chapter <a href="../index.html#tips-n-tricks" class="xref page">Tips, Tricks and Examples</a> has been added.
Please submit GitHub issues and/or pull requests for additional entries in that chapter.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-kafka-client-2.2"><a class="anchor" href="#cb-2-2-and-2-3-kafka-client-2.2"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 2.3.0 <code>kafka-clients</code> or higher.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-class-package-changes"><a class="anchor" href="#cb-2-2-and-2-3-class-package-changes"></a>Class/Package Changes</h3>
<div class="paragraph">
<p><code>TopicPartitionInitialOffset</code> is deprecated in favor of <code>TopicPartitionOffset</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-configuration-changes"><a class="anchor" href="#cb-2-2-and-2-3-configuration-changes"></a>Configuration Changes</h3>
<div class="paragraph">
<p>Starting with version 2.3.4, the <code>missingTopicsFatal</code> container property is false by default.
When this is true, the application fails to start if the broker is down; many users were affected by this change; given that Kafka is a high-availability platform, we did not anticipate that starting an application with no active brokers would be a common use case.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-producer-and-consumer-factory-changes"><a class="anchor" href="#cb-2-2-and-2-3-producer-and-consumer-factory-changes"></a>Producer and Consumer Factory Changes</h3>
<div class="paragraph">
<p>The <code>DefaultKafkaProducerFactory</code> can now be configured to create a producer per thread.
You can also provide <code>Supplier&lt;Serializer&gt;</code> instances in the constructor as an alternative to either configured classes (which require no-arg constructors), or constructing with <code>Serializer</code> instances, which are then shared between all Producers.
See <a href="../kafka/sending-messages.html#producer-factory" class="xref page">Using <code>DefaultKafkaProducerFactory</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>The same option is available with <code>Supplier&lt;Deserializer&gt;</code> instances in <code>DefaultKafkaConsumerFactory</code>.
See <a href="../kafka/receiving-messages/message-listener-container.html#kafka-container" class="xref page">Using <code>KafkaMessageListenerContainer</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-listener-container-changes"><a class="anchor" href="#cb-2-2-and-2-3-listener-container-changes"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>Previously, error handlers received <code>ListenerExecutionFailedException</code> (with the actual listener exception as the <code>cause</code>) when the listener was invoked using a listener adapter (such as <code>@KafkaListener</code> s).
Exceptions thrown by native <code>GenericMessageListener</code> s were passed to the error handler unchanged.
Now a <code>ListenerExecutionFailedException</code> is always the argument (with the actual listener exception as the <code>cause</code>), which provides access to the container&#8217;s <code>group.id</code> property.</p>
</div>
<div class="paragraph">
<p>Because the listener container has it&#8217;s own mechanism for committing offsets, it prefers the Kafka <code>ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG</code> to be <code>false</code>.
It now sets it to false automatically unless specifically set in the consumer factory or the container&#8217;s consumer property overrides.</p>
</div>
<div class="paragraph">
<p>The <code>ackOnError</code> property is now <code>false</code> by default.</p>
</div>
<div class="paragraph">
<p>It is now possible to obtain the consumer&#8217;s <code>group.id</code> property in the listener method.
See <a href="../kafka/receiving-messages/listener-group-id.html" class="xref page">Obtaining the Consumer <code>group.id</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>The container has a new property <code>recordInterceptor</code> allowing records to be inspected or modified before invoking the listener.
A <code>CompositeRecordInterceptor</code> is also provided in case you need to invoke multiple interceptors.
See <a href="../kafka/receiving-messages/message-listener-container.html" class="xref page">Message Listener Containers</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>ConsumerSeekAware</code> has new methods allowing you to perform seeks relative to the beginning, end, or current position and to seek to the first offset greater than or equal to a time stamp.
See <a href="#seek">[seek]</a> for more information.</p>
</div>
<div class="paragraph">
<p>A convenience class <code>AbstractConsumerSeekAware</code> is now provided to simplify seeking.
See <a href="#seek">[seek]</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>ContainerProperties</code> provides an <code>idleBetweenPolls</code> option to let the main loop in the listener container to sleep between <code>KafkaConsumer.poll()</code> calls.
See its JavaDocs and <a href="../kafka/receiving-messages/message-listener-container.html#kafka-container" class="xref page">Using <code>KafkaMessageListenerContainer</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>When using <code>AckMode.MANUAL</code> (or <code>MANUAL_IMMEDIATE</code>) you can now cause a redelivery by calling <code>nack</code> on the <code>Acknowledgment</code>.
See <a href="../kafka/receiving-messages/message-listener-container.html#committing-offsets" class="xref page">Committing Offsets</a> for more information.</p>
</div>
<div class="paragraph">
<p>Listener performance can now be monitored using Micrometer <code>Timer</code> s.
See <a href="../kafka/micrometer.html" class="xref page">Monitoring</a> for more information.</p>
</div>
<div class="paragraph">
<p>The containers now publish additional consumer lifecycle events relating to startup.
See <a href="../kafka/events.html" class="xref page">Application Events</a> for more information.</p>
</div>
<div class="paragraph">
<p>Transactional batch listeners can now support zombie fencing.
See <a href="../kafka/transactions.html" class="xref page">Transactions</a> for more information.</p>
</div>
<div class="paragraph">
<p>The listener container factory can now be configured with a <code>ContainerCustomizer</code> to further configure each container after it has been created and configured.
See <a href="../kafka/container-factory.html" class="xref page">Container factory</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-errorhandler-changes"><a class="anchor" href="#cb-2-2-and-2-3-errorhandler-changes"></a>ErrorHandler Changes</h3>
<div class="paragraph">
<p>The <code>SeekToCurrentErrorHandler</code> now treats certain exceptions as fatal and disables retry for those, invoking the recoverer on first failure.</p>
</div>
<div class="paragraph">
<p>The <code>SeekToCurrentErrorHandler</code> and <code>SeekToCurrentBatchErrorHandler</code> can now be configured to apply a <code>BackOff</code> (thread sleep) between delivery attempts.</p>
</div>
<div class="paragraph">
<p>Starting with version 2.3.2, recovered records' offsets will be committed when the error handler returns after recovering a failed record.</p>
</div>
<div class="paragraph">
<p>The <code>DeadLetterPublishingRecoverer</code>, when used in conjunction with an <code>ErrorHandlingDeserializer</code>, now sets the payload of the message sent to the dead-letter topic, to the original value that could not be deserialized.
Previously, it was <code>null</code> and user code needed to extract the <code>DeserializationException</code> from the message headers.
See <a href="../kafka/annotation-error-handling.html#dead-letters" class="xref page">Publishing Dead-letter Records</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-topicbuilder"><a class="anchor" href="#cb-2-2-and-2-3-topicbuilder"></a>TopicBuilder</h3>
<div class="paragraph">
<p>A new class <code>TopicBuilder</code> is provided for more convenient creation of <code>NewTopic</code> <code>@Bean</code> s for automatic topic provisioning.
See <a href="#configuring-topics">[configuring-topics]</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-kafka-streams-changes"><a class="anchor" href="#cb-2-2-and-2-3-kafka-streams-changes"></a>Kafka Streams Changes</h3>
<div class="paragraph">
<p>You can now perform additional configuration of the <code>StreamsBuilderFactoryBean</code> created by <code>@EnableKafkaStreams</code>.
See <a href="../streams.html#streams-config" class="xref page">Streams Configuration</a> for more information.</p>
</div>
<div class="paragraph">
<p>A <code>RecoveringDeserializationExceptionHandler</code> is now provided which allows records with deserialization errors to be recovered.
It can be used in conjunction with a <code>DeadLetterPublishingRecoverer</code> to send these records to a dead-letter topic.
See <a href="../streams.html#streams-deser-recovery" class="xref page">Recovery from Deserialization Exceptions</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>HeaderEnricher</code> transformer has been provided, using SpEL to generate the header values.
See <a href="../streams.html#streams-header-enricher" class="xref page">Header Enricher</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>MessagingTransformer</code> has been provided.
This allows a Kafka streams topology to interact with a spring-messaging component, such as a Spring Integration flow.
See <a href="../streams.html#streams-messaging" class="xref page"><code>MessagingProcessor</code></a> and See <a href="https://docs.spring.io/spring-integration/docs/current/reference/html/kafka.html#streams-integration">[Calling a Spring Integration Flow from a <code>KStream</code></a>] for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-json-component-changes"><a class="anchor" href="#cb-2-2-and-2-3-json-component-changes"></a>JSON Component Changes</h3>
<div class="paragraph">
<p>Now all the JSON-aware components are configured by default with a Jackson <code>ObjectMapper</code> produced by the <code>JacksonUtils.enhancedObjectMapper()</code>.
The <code>JsonDeserializer</code> now provides <code>TypeReference</code>-based constructors for better handling of target generic container types.
Also a <code>JacksonMimeTypeModule</code> has been introduced for serialization of <code>org.springframework.util.MimeType</code> to plain string.
See its JavaDocs and <a href="../kafka/serdes.html" class="xref page">Serialization, Deserialization, and Message Conversion</a> for more information.</p>
</div>
<div class="paragraph">
<p>A <code>ByteArrayJsonMessageConverter</code> has been provided as well as a new super class for all Json converters, <code>JsonMessageConverter</code>.
Also, a <code>StringOrBytesSerializer</code> is now available; it can serialize <code>byte[]</code>, <code>Bytes</code> and <code>String</code> values in <code>ProducerRecord</code> s.
See <a href="../kafka/serdes.html#messaging-message-conversion" class="xref page">Spring Messaging Message Conversion</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>JsonSerializer</code>, <code>JsonDeserializer</code> and <code>JsonSerde</code> now have fluent APIs to make programmatic configuration simpler.
See the javadocs, <a href="../kafka/serdes.html" class="xref page">Serialization, Deserialization, and Message Conversion</a>, and <a href="../streams.html#serde" class="xref page">Streams JSON Serialization and Deserialization</a> for more informaion.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-replyingkafkatemplate"><a class="anchor" href="#cb-2-2-and-2-3-replyingkafkatemplate"></a>ReplyingKafkaTemplate</h3>
<div class="paragraph">
<p>When a reply times out, the future is completed exceptionally with a <code>KafkaReplyTimeoutException</code> instead of a <code>KafkaException</code>.</p>
</div>
<div class="paragraph">
<p>Also, an overloaded <code>sendAndReceive</code> method is now provided that allows specifying the reply timeout on a per message basis.</p>
</div>
</div>
<div class="sect2">
<h3 id="aggregatingreplyingkafkatemplate"><a class="anchor" href="#aggregatingreplyingkafkatemplate"></a>AggregatingReplyingKafkaTemplate</h3>
<div class="paragraph">
<p>Extends the <code>ReplyingKafkaTemplate</code> by aggregating replies from multiple receivers.
See <a href="../kafka/sending-messages.html#aggregating-request-reply" class="xref page">Aggregating Multiple Replies</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-transaction-changes"><a class="anchor" href="#cb-2-2-and-2-3-transaction-changes"></a>Transaction Changes</h3>
<div class="paragraph">
<p>You can now override the producer factory&#8217;s <code>transactionIdPrefix</code> on the <code>KafkaTemplate</code> and <code>KafkaTransactionManager</code>.
See <a href="../kafka/transactions.html#transaction-id-prefix" class="xref page"><code>transactionIdPrefix</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-new-delegating-serializerdeserializer"><a class="anchor" href="#cb-2-2-and-2-3-new-delegating-serializerdeserializer"></a>New Delegating Serializer/Deserializer</h3>
<div class="paragraph">
<p>The framework now provides a delegating <code>Serializer</code> and <code>Deserializer</code>, utilizing a header to enable producing and consuming records with multiple key/value types.
See <a href="../kafka/serdes.html#delegating-serialization" class="xref page">Delegating Serializer and Deserializer</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-2-and-2-3-new-retrying-deserializer"><a class="anchor" href="#cb-2-2-and-2-3-new-retrying-deserializer"></a>New Retrying Deserializer</h3>
<div class="paragraph">
<p>The framework now provides a delegating <code>RetryingDeserializer</code>, to retry serialization when transient errors such as network problems might occur.
See <a href="../kafka/serdes.html#retrying-deserialization" class="xref page">Retrying Deserializer</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-1-and-2-2"><a class="anchor" href="#changes-between-2-1-and-2-2"></a>Changes Between 2.1 and 2.2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cb-2-1-and-2-2-kafka-client-2.0"><a class="anchor" href="#cb-2-1-and-2-2-kafka-client-2.0"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 2.0.0 <code>kafka-clients</code> or higher.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-class-and-package-changes"><a class="anchor" href="#cb-2-1-and-2-2-class-and-package-changes"></a>Class and Package Changes</h3>
<div class="paragraph">
<p>The <code>ContainerProperties</code> class has been moved from <code>org.springframework.kafka.listener.config</code> to <code>org.springframework.kafka.listener</code>.</p>
</div>
<div class="paragraph">
<p>The <code>AckMode</code> enum has been moved from <code>AbstractMessageListenerContainer</code> to <code>ContainerProperties</code>.</p>
</div>
<div class="paragraph">
<p>The <code>setBatchErrorHandler()</code> and <code>setErrorHandler()</code> methods have been moved from <code>ContainerProperties</code> to both <code>AbstractMessageListenerContainer</code> and <code>AbstractKafkaListenerContainerFactory</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-after-rollback-processing"><a class="anchor" href="#cb-2-1-and-2-2-after-rollback-processing"></a>After Rollback Processing</h3>
<div class="paragraph">
<p>A new <code>AfterRollbackProcessor</code> strategy is provided.
See <a href="../kafka/annotation-error-handling.html#after-rollback" class="xref page">After-rollback Processor</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-concurrentkafkalistenercontainerfactory-changes"><a class="anchor" href="#cb-2-1-and-2-2-concurrentkafkalistenercontainerfactory-changes"></a><code>ConcurrentKafkaListenerContainerFactory</code> Changes</h3>
<div class="paragraph">
<p>You can now use the <code>ConcurrentKafkaListenerContainerFactory</code> to create and configure any <code>ConcurrentMessageListenerContainer</code>, not only those for <code>@KafkaListener</code> annotations.
See <a href="../kafka/container-factory.html" class="xref page">Container factory</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-listener-container-changes"><a class="anchor" href="#cb-2-1-and-2-2-listener-container-changes"></a>Listener Container Changes</h3>
<div class="paragraph">
<p>A new container property (<code>missingTopicsFatal</code>) has been added.
See <a href="../kafka/receiving-messages/message-listener-container.html#kafka-container" class="xref page">Using <code>KafkaMessageListenerContainer</code></a> for more information.</p>
</div>
<div class="paragraph">
<p>A <code>ConsumerStoppedEvent</code> is now emitted when a consumer stops.
See <a href="../kafka/thread-safety.html" class="xref page">Thread Safety</a> for more information.</p>
</div>
<div class="paragraph">
<p>Batch listeners can optionally receive the complete <code>ConsumerRecords&lt;?, ?&gt;</code> object instead of a <code>List&lt;ConsumerRecord&lt;?, ?&gt;</code>.
See <a href="#batch-listeners">[batch-listeners]</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>DefaultAfterRollbackProcessor</code> and <code>SeekToCurrentErrorHandler</code> can now recover (skip) records that keep failing, and, by default, does so after 10 failures.
They can be configured to publish failed records to a dead-letter topic.</p>
</div>
<div class="paragraph">
<p>Starting with version 2.2.4, the consumer&#8217;s group ID can be used while selecting the dead letter topic name.</p>
</div>
<div class="paragraph">
<p>The <code>ConsumerStoppingEvent</code> has been added.
See <a href="../kafka/events.html" class="xref page">Application Events</a> for more information.</p>
</div>
<div class="paragraph">
<p>The <code>SeekToCurrentErrorHandler</code> can now be configured to commit the offset of a recovered record when the container is configured with <code>AckMode.MANUAL_IMMEDIATE</code> (since 2.2.4).</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-kafkalistener-changes"><a class="anchor" href="#cb-2-1-and-2-2-kafkalistener-changes"></a>@KafkaListener Changes</h3>
<div class="paragraph">
<p>You can now override the <code>concurrency</code> and <code>autoStartup</code> properties of the listener container factory by setting properties on the annotation.
You can now add configuration to determine which headers (if any) are copied to a reply message.
See <a href="../kafka/receiving-messages/listener-annotation.html" class="xref page"><code>@KafkaListener</code> Annotation</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now use <code>@KafkaListener</code> as a meta-annotation on your own annotations.
See <a href="../kafka/receiving-messages/listener-meta.html" class="xref page"><code>@KafkaListener</code> as a Meta Annotation</a> for more information.</p>
</div>
<div class="paragraph">
<p>It is now easier to configure a <code>Validator</code> for <code>@Payload</code> validation.
See <a href="../kafka/receiving-messages/validation.html" class="xref page"><code>@KafkaListener</code> <code>@Payload</code> Validation</a> for more information.</p>
</div>
<div class="paragraph">
<p>You can now specify kafka consumer properties directly on the annotation; these will override any properties with the same name defined in the consumer factory (since version 2.2.4).
See <a href="../kafka/receiving-messages/listener-annotation.html#annotation-properties" class="xref page">Annotation Properties</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-header-mapping-changes"><a class="anchor" href="#cb-2-1-and-2-2-header-mapping-changes"></a>Header Mapping Changes</h3>
<div class="paragraph">
<p>Headers of type <code>MimeType</code> and <code>MediaType</code> are now mapped as simple strings in the <code>RecordHeader</code> value.
Previously, they were mapped as JSON and only <code>MimeType</code> was decoded.
<code>MediaType</code> could not be decoded.
They are now simple strings for interoperability.</p>
</div>
<div class="paragraph">
<p>Also, the <code>DefaultKafkaHeaderMapper</code> has a new <code>addToStringClasses</code> method, allowing the specification of types that should be mapped by using <code>toString()</code> instead of JSON.
See <a href="../kafka/headers.html" class="xref page">Message Headers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-embedded-kafka-changes"><a class="anchor" href="#cb-2-1-and-2-2-embedded-kafka-changes"></a>Embedded Kafka Changes</h3>
<div class="paragraph">
<p>The <code>KafkaEmbedded</code> class and its <code>KafkaRule</code> interface have been deprecated in favor of the <code>EmbeddedKafkaBroker</code> and its JUnit 4 <code>EmbeddedKafkaRule</code> wrapper.
The <code>@EmbeddedKafka</code> annotation now populates an <code>EmbeddedKafkaBroker</code> bean instead of the deprecated <code>KafkaEmbedded</code>.
This change allows the use of <code>@EmbeddedKafka</code> in JUnit 5 tests.
The <code>@EmbeddedKafka</code> annotation now has the attribute <code>ports</code> to specify the port that populates the <code>EmbeddedKafkaBroker</code>.
See <a href="../testing.html" class="xref page">Testing Applications</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-jsonserializer-deserializer-enhancements"><a class="anchor" href="#cb-2-1-and-2-2-jsonserializer-deserializer-enhancements"></a>JsonSerializer/Deserializer Enhancements</h3>
<div class="paragraph">
<p>You can now provide type mapping information by using producer and consumer properties.</p>
</div>
<div class="paragraph">
<p>New constructors are available on the deserializer to allow overriding the type header information with the supplied target type.</p>
</div>
<div class="paragraph">
<p>The <code>JsonDeserializer</code> now removes any type information headers by default.</p>
</div>
<div class="paragraph">
<p>You can now configure the <code>JsonDeserializer</code> to ignore type information headers by using a Kafka property (since 2.2.3).</p>
</div>
<div class="paragraph">
<p>See <a href="../kafka/serdes.html" class="xref page">Serialization, Deserialization, and Message Conversion</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-kafka-streams-changes"><a class="anchor" href="#cb-2-1-and-2-2-kafka-streams-changes"></a>Kafka Streams Changes</h3>
<div class="paragraph">
<p>The streams configuration bean must now be a <code>KafkaStreamsConfiguration</code> object instead of a <code>StreamsConfig</code> object.</p>
</div>
<div class="paragraph">
<p>The <code>StreamsBuilderFactoryBean</code> has been moved from package <code>&#8230;&#8203;core</code> to <code>&#8230;&#8203;config</code>.</p>
</div>
<div class="paragraph">
<p>The <code>KafkaStreamBrancher</code> has been introduced for better end-user experience when conditional branches are built on top of <code>KStream</code> instance.</p>
</div>
<div class="paragraph">
<p>See <a href="../streams.html" class="xref page">Apache Kafka Streams Support</a> and <a href="../streams.html#streams-config" class="xref page">Configuration</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-1-and-2-2-transactional-id"><a class="anchor" href="#cb-2-1-and-2-2-transactional-id"></a>Transactional ID</h3>
<div class="paragraph">
<p>When a transaction is started by the listener container, the <code>transactional.id</code> is now the <code>transactionIdPrefix</code> appended with <code>&lt;group.id&gt;.&lt;topic&gt;.&lt;partition&gt;</code>.
This change allows proper fencing of zombies, <a href="https://www.confluent.io/blog/transactions-apache-kafka/">as described here</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-2-0-and-2-1"><a class="anchor" href="#changes-between-2-0-and-2-1"></a>Changes Between 2.0 and 2.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cb-2-0-and-2-1-kafka-client-1.0"><a class="anchor" href="#cb-2-0-and-2-1-kafka-client-1.0"></a>Kafka Client Version</h3>
<div class="paragraph">
<p>This version requires the 1.0.0 <code>kafka-clients</code> or higher.</p>
</div>
<div class="paragraph">
<p>The 1.1.x client is supported natively in version 2.2.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-json-improvements"><a class="anchor" href="#cb-2-0-and-2-1-json-improvements"></a>JSON Improvements</h3>
<div class="paragraph">
<p>The <code>StringJsonMessageConverter</code> and <code>JsonSerializer</code> now add type information in <code>Headers</code>, letting the converter and <code>JsonDeserializer</code> create specific types on reception, based on the message itself rather than a fixed configured type.
See <a href="../kafka/serdes.html" class="xref page">Serialization, Deserialization, and Message Conversion</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-container-stopping-error-handlers"><a class="anchor" href="#cb-2-0-and-2-1-container-stopping-error-handlers"></a>Container Stopping Error Handlers</h3>
<div class="paragraph">
<p>Container error handlers are now provided for both record and batch listeners that treat any exceptions thrown by the listener as fatal/
They stop the container.
See <a href="../kafka/annotation-error-handling.html" class="xref page">Handling Exceptions</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-pausing-and-resuming-containers"><a class="anchor" href="#cb-2-0-and-2-1-pausing-and-resuming-containers"></a>Pausing and Resuming Containers</h3>
<div class="paragraph">
<p>The listener containers now have <code>pause()</code> and <code>resume()</code> methods (since version 2.1.3).
See <a href="../kafka/pause-resume.html" class="xref page">Pausing and Resuming Listener Containers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-stateful-retry"><a class="anchor" href="#cb-2-0-and-2-1-stateful-retry"></a>Stateful Retry</h3>
<div class="paragraph">
<p>Starting with version 2.1.3, you can configure stateful retry.
See <a href="#cb-2-0-and-2-1-stateful-retry">Stateful Retry</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-client-id"><a class="anchor" href="#cb-2-0-and-2-1-client-id"></a>Client ID</h3>
<div class="paragraph">
<p>Starting with version 2.1.1, you can now set the <code>client.id</code> prefix on <code>@KafkaListener</code>.
Previously, to customize the client ID, you needed a separate consumer factory (and container factory) per listener.
The prefix is suffixed with <code>-n</code> to provide unique client IDs when you use concurrency.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-logging-offset-commits"><a class="anchor" href="#cb-2-0-and-2-1-logging-offset-commits"></a>Logging Offset Commits</h3>
<div class="paragraph">
<p>By default, logging of topic offset commits is performed with the <code>DEBUG</code> logging level.
Starting with version 2.1.2, a new property in <code>ContainerProperties</code> called <code>commitLogLevel</code> lets you specify the log level for these messages.
See <a href="../kafka/receiving-messages/message-listener-container.html#kafka-container" class="xref page">Using <code>KafkaMessageListenerContainer</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-default-kafkahandler"><a class="anchor" href="#cb-2-0-and-2-1-default-kafkahandler"></a>Default @KafkaHandler</h3>
<div class="paragraph">
<p>Starting with version 2.1.3, you can designate one of the <code>@KafkaHandler</code> annotations on a class-level <code>@KafkaListener</code> as the default.
See <a href="../kafka/receiving-messages/class-level-kafkalistener.html" class="xref page"><code>@KafkaListener</code> on a Class</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-replyingkafkatemplate"><a class="anchor" href="#cb-2-0-and-2-1-replyingkafkatemplate"></a>ReplyingKafkaTemplate</h3>
<div class="paragraph">
<p>Starting with version 2.1.3, a subclass of <code>KafkaTemplate</code> is provided to support request/reply semantics.
See <a href="../kafka/sending-messages.html#replying-template" class="xref page">Using <code>ReplyingKafkaTemplate</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-chainedkafkatransactionmanager"><a class="anchor" href="#cb-2-0-and-2-1-chainedkafkatransactionmanager"></a>ChainedKafkaTransactionManager</h3>
<div class="paragraph">
<p>Version 2.1.3 introduced the <code>ChainedKafkaTransactionManager</code>.
(It is now deprecated).</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-2-0-and-2-1-migration-guide-from-2-0"><a class="anchor" href="#cb-2-0-and-2-1-migration-guide-from-2-0"></a>Migration Guide from 2.0</h3>
<div class="paragraph">
<p>See the <a href="https://github.com/spring-projects/spring-kafka/wiki/Spring-for-Apache-Kafka-2.0-to-2.1-Migration-Guide">2.0 to 2.1 Migration</a> guide.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-1-3-and-2-0"><a class="anchor" href="#changes-between-1-3-and-2-0"></a>Changes Between 1.3 and 2.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cb-1-3-and-2-0-spring-framework-and-java-versions"><a class="anchor" href="#cb-1-3-and-2-0-spring-framework-and-java-versions"></a>Spring Framework and Java Versions</h3>
<div class="paragraph">
<p>The Spring for Apache Kafka project now requires Spring Framework 5.0 and Java 8.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-3-and-2-0-kafkalistener-changes"><a class="anchor" href="#cb-1-3-and-2-0-kafkalistener-changes"></a><code>@KafkaListener</code> Changes</h3>
<div class="paragraph">
<p>You can now annotate <code>@KafkaListener</code> methods (and classes and <code>@KafkaHandler</code> methods) with <code>@SendTo</code>.
If the method returns a result, it is forwarded to the specified topic.
See <a href="../kafka/receiving-messages/annotation-send-to.html" class="xref page">Forwarding Listener Results using <code>@SendTo</code></a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-3-and-2-0-message-listeners"><a class="anchor" href="#cb-1-3-and-2-0-message-listeners"></a>Message Listeners</h3>
<div class="paragraph">
<p>Message listeners can now be aware of the <code>Consumer</code> object.
See <a href="#message-listeners">[message-listeners]</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-3-and-2-0-using-consumerawarerebalancelistener"><a class="anchor" href="#cb-1-3-and-2-0-using-consumerawarerebalancelistener"></a>Using <code>ConsumerAwareRebalanceListener</code></h3>
<div class="paragraph">
<p>Rebalance listeners can now access the <code>Consumer</code> object during rebalance notifications.
See <a href="../kafka/receiving-messages/rebalance-listeners.html" class="xref page">Rebalancing Listeners</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-1-2-and-1-3"><a class="anchor" href="#changes-between-1-2-and-1-3"></a>Changes Between 1.2 and 1.3</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cb-1-2-and-1-3-support-for-transactions"><a class="anchor" href="#cb-1-2-and-1-3-support-for-transactions"></a>Support for Transactions</h3>
<div class="paragraph">
<p>The 0.11.0.0 client library added support for transactions.
The <code>KafkaTransactionManager</code> and other support for transactions have been added.
See <a href="../kafka/transactions.html" class="xref page">Transactions</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-2-and-1-3-support-for-headers"><a class="anchor" href="#cb-1-2-and-1-3-support-for-headers"></a>Support for Headers</h3>
<div class="paragraph">
<p>The 0.11.0.0 client library added support for message headers.
These can now be mapped to and from <code>spring-messaging</code> <code>MessageHeaders</code>.
See <a href="../kafka/headers.html" class="xref page">Message Headers</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-2-and-1-3-creating-topics"><a class="anchor" href="#cb-1-2-and-1-3-creating-topics"></a>Creating Topics</h3>
<div class="paragraph">
<p>The 0.11.0.0 client library provides an <code>AdminClient</code>, which you can use to create topics.
The <code>KafkaAdmin</code> uses this client to automatically add topics defined as <code>@Bean</code> instances.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-2-and-1-3-support-for-kafka-timestamps"><a class="anchor" href="#cb-1-2-and-1-3-support-for-kafka-timestamps"></a>Support for Kafka Timestamps</h3>
<div class="paragraph">
<p><code>KafkaTemplate</code> now supports an API to add records with timestamps.
New <code>KafkaHeaders</code> have been introduced regarding <code>timestamp</code> support.
Also, new <code>KafkaConditions.timestamp()</code> and <code>KafkaMatchers.hasTimestamp()</code> testing utilities have been added.
See <a href="../kafka/sending-messages.html#kafka-template" class="xref page">Using <code>KafkaTemplate</code></a>, <a href="../kafka/receiving-messages/listener-annotation.html" class="xref page"><code>@KafkaListener</code> Annotation</a>, and <a href="../testing.html" class="xref page">Testing Applications</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-2-and-1-3-kafkalistener-changes"><a class="anchor" href="#cb-1-2-and-1-3-kafkalistener-changes"></a><code>@KafkaListener</code> Changes</h3>
<div class="paragraph">
<p>You can now configure a <code>KafkaListenerErrorHandler</code> to handle exceptions.
See <a href="../kafka/annotation-error-handling.html" class="xref page">Handling Exceptions</a> for more information.</p>
</div>
<div class="paragraph">
<p>By default, the <code>@KafkaListener</code> <code>id</code> property is now used as the <code>group.id</code> property, overriding the property configured in the consumer factory (if present).
Further, you can explicitly configure the <code>groupId</code> on the annotation.
Previously, you would have needed a separate container factory (and consumer factory) to use different <code>group.id</code> values for listeners.
To restore the previous behavior of using the factory configured <code>group.id</code>, set the <code>idIsGroup</code> property on the annotation to <code>false</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-2-and-1-3-embeddedkafka-annotation"><a class="anchor" href="#cb-1-2-and-1-3-embeddedkafka-annotation"></a><code>@EmbeddedKafka</code> Annotation</h3>
<div class="paragraph">
<p>For convenience, a test class-level <code>@EmbeddedKafka</code> annotation is provided, to register <code>KafkaEmbedded</code> as a bean.
See <a href="../testing.html" class="xref page">Testing Applications</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-2-and-1-3-kerberos-configuration"><a class="anchor" href="#cb-1-2-and-1-3-kerberos-configuration"></a>Kerberos Configuration</h3>
<div class="paragraph">
<p>Support for configuring Kerberos is now provided.
See <a href="../kafka/kerberos.html" class="xref page">JAAS and Kerberos</a> for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-between-1-1-and-1-2"><a class="anchor" href="#changes-between-1-1-and-1-2"></a>Changes Between 1.1 and 1.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This version uses the 0.10.2.x client.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cb-1-1-and-1-2-changes-between-1-0-and-1-1"><a class="anchor" href="#cb-1-1-and-1-2-changes-between-1-0-and-1-1"></a>Changes Between 1.0 and 1.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cb-1-1-and-1-2-kafka-client"><a class="anchor" href="#cb-1-1-and-1-2-kafka-client"></a>Kafka Client</h3>
<div class="paragraph">
<p>This version uses the Apache Kafka 0.10.x.x client.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-1-and-1-2-batch-listeners"><a class="anchor" href="#cb-1-1-and-1-2-batch-listeners"></a>Batch Listeners</h3>
<div class="paragraph">
<p>Listeners can be configured to receive the entire batch of messages returned by the <code>consumer.poll()</code> operation, rather than one at a time.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-1-and-1-2-null-payloads"><a class="anchor" href="#cb-1-1-and-1-2-null-payloads"></a>Null Payloads</h3>
<div class="paragraph">
<p>Null payloads are used to &#8220;delete&#8221; keys when you use log compaction.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-1-and-1-2-initial-offset"><a class="anchor" href="#cb-1-1-and-1-2-initial-offset"></a>Initial Offset</h3>
<div class="paragraph">
<p>When explicitly assigning partitions, you can now configure the initial offset relative to the current position for the consumer group, rather than absolute or relative to the current end.</p>
</div>
</div>
<div class="sect2">
<h3 id="cb-1-1-and-1-2-seek"><a class="anchor" href="#cb-1-1-and-1-2-seek"></a>Seek</h3>
<div class="paragraph">
<p>You can now seek the position of each topic or partition.
You can use this to set the initial position during initialization when group management is in use and Kafka assigns the partitions.
You can also seek when an idle container is detected or at any arbitrary point in your application&#8217;s execution.
See <a href="#seek">[seek]</a> for more information.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="native-images.html">Native Images</a></span>
</nav>
</article>
</div>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1h" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1h" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
              <div class="colset">
                <div class="col-left">
                  <ul class="nav-versions">
                    <li class="component is-current">
                      <a class="title" href="../index.html">Spring Kafka</a>
                      <ul class="versions">
                        <li class="version is-current is-latest">
                          <a href="../index.html">
                            3.1.0-SNAPSHOT<span class="current">current</span>
                          </a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="col-right">
                  <ul>
                    <li>
                      Related Spring Documentation
                      <ul>
                        <li><a href="https://docs.spring.io/spring-framework/reference/">Spring Framework</a></li>
                        <li>
                          Spring Data
                          <ul>
                            <li><a href="https://docs.spring.io/spring-data-commons/reference/">Spring Data Commons</a></li>
                            <li><a href="https://docs.spring.io/spring-data-jpa/reference/">Spring Data JPA</a></li>
                          </ul>
                        </li>
                        <li><a href="https://docs.spring.io/spring-integration/reference/">Spring Integration</a></li>
                        <li><a href="https://docs.spring.io/spring-batch/reference/">Spring Batch</a></li>
                        <li>
                          <a href="https://docs.spring.io/spring-security/reference/">Spring Security</a>
                          <ul>
                            <li><a href="https://docs.spring.io/spring-ldap/reference/">Spring LDAP</a></li>
                            <li><a href="https://docs.spring.io/spring-session/reference/">Spring Session</a></li>
                            <li><a href="https://docs.spring.io/spring-authorization-server/reference/">Spring Authorization Server</a></li>
                            <li><a href="https://docs.spring.io/spring-vault/reference/">Spring Vault</a></li>
                            <li><a href="https://docs.spring.io/spring-security-kerberos/reference/">Spring Security Kerberos</a></li>
                          </ul>
                        </li>
                        <li><a href="https://docs.spring.io/spring-ai/reference/">Spring AI</a></li>
                        <li><a href="https://docs.spring.io/spring-cli/reference/">Spring CLI</a></li>
                        <li><a href="https://docs.spring.io/spring-graphql/reference/">Spring GraphQL</a></li>
                        <li><a href="https://docs.spring.io/spring-shell/reference/">Spring Shell</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </main>
        </div>
    </div>
</div>

</div>
<footer class="footer flex">
    <div id="spring-links flex">
        <img id="springlogo" src="../_/img/spring-logo.svg" alt="Spring">
        <p class="smallest antialiased"> <script>var d = new Date();
        document.write(d.getFullYear());</script> <a href="https://www.vmware.com/">VMware</a>, Inc. or its affiliates. <a href="https://www.vmware.com/help/legal.html">Terms of Use</a>  <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a>  <a href="https://spring.io/trademarks">Trademark Guidelines</a> <span id="thank-you-mobile"> <a href="https://spring.io/thank-you">Thank you</a></span>  <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a>  <a class="ot-sdk-show-settings">Cookie Settings</a> <span id="teconsent"></span></p>
        <p class="smallest antialiased has-gray-text">Apache, Apache Tomcat, Apache Kafka, Apache Cassandra&trade;, and Apache Geode&trade; are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java&trade;, Java&trade; SE, Java&trade; EE, and OpenJDK&trade; are trademarks of Oracle and/or its affiliates. Kubernetes is a registered trademark of the Linux Foundation in the United States and other countries. Linux is the registered trademark of Linus Torvalds in the United States and other countries. Windows and Microsoft Azure are registered trademarks of Microsoft Corporation. AWS and Amazon Web Services are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.</p>
    </div>
    <div id="social-icons" class="flex jc-between">
        <a href="https://www.youtube.com/user/SpringSourceDev" title="Youtube"><svg id="youtube-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle class="cls-1" cx="20" cy="20" r="20"/><path class="cls-2" d="M30.91,14.53a2.89,2.89,0,0,0-2-2C27.12,12,20,12,20,12s-7.12,0-8.9.47a2.9,2.9,0,0,0-2,2A30.56,30.56,0,0,0,8.63,20a30.44,30.44,0,0,0,.46,5.47,2.89,2.89,0,0,0,2,2C12.9,28,20,28,20,28s7.12,0,8.9-.47a2.87,2.87,0,0,0,2-2A30.56,30.56,0,0,0,31.37,20,28.88,28.88,0,0,0,30.91,14.53ZM17.73,23.41V16.59L23.65,20Z"/></svg></a>
        <a href="https://github.com/spring-projects" title="Github"><svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z"/></g><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z"/></svg></a>
        <a href="https://twitter.com/springcentral" title="Twitter"><svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><circle class="cls-1" cx="37.97" cy="37.97" r="37.97"/><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z"/></svg></a>
    </div>
</footer>
<script src="../_/js/vendor/import.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/asciidoctor-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>

<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
            <main class="modal__content" id="modal-1-content">
                <div id="searchbox"></div>
                <div id="counter"></div>
                <div class="search-by">
                    <a target="_blank" rel="noopener noreferrer" href="https://www.algolia.com/" aria-label="Search by Algolia">
                        <img class="light" width="140" src="../_/img/algolia-light.svg" />
                        <img class="dark" width="140" src="../_/img/algolia-dark.svg" />
                    </a>
                </div>
                <div id="hits"></div>
            </main>
        </div>
    </div>
</div>

<script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.17.0/dist/algoliasearch-lite.umd.js" integrity="sha256-Lf9DrpGmcRip6OQzbcL6lnvNmoZNSKpyQX5pMlwatWE=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.54.1/dist/instantsearch.production.min.js" integrity="sha256-xYsZPDeNjYNTBWLvqD2Lxe98hOxcDgOHyMPfz4tVAbk=" crossorigin="anonymous"></script>
<script async id="search-script" src="../_/js/vendor/search.js" data-app-id="WB1FQYI187" data-api-key="9d489079e5ec46dbb238909fee5c9c29" data-index-name="springkafka" data-stylesheet="../_/css/vendor/search.css" data-page-version="3.1.0"></script>

  </body>
</html>
